<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        *{
            margin:0;
            padding:0;
            list-style:none;
        }
        .weibo{width: 600px;border: 1px solid #ccc;margin: 100px auto;padding:10px;}
        .weibo textarea{ width: 598px;height:140px;border: 1px solid #ccc;outline: none;resize: none; }
        .weibo textarea:focus{border-color: #f40; }
        .weibo button{ width: 80px;height: 30px;background: orange;color:#fff;border: 0 none;margin-top: 5px;border-radius: 3px;
            cursor: pointer; }
        .weibo button:hover{background-color: #f40; }
        .weibo ul{margin-top: 10px;}
        .weibo li{border-bottom: 1px dotted #ccc;overflow: hidden;font-size: 14px;line-height: 30px;}
        .weibo li p{float: left;}
        .weibo li span{float: right;color:#333;text-decoration: none;cursor: pointer;}
        .weibo li span:hover{ color:#f40; }
    </style>
    <script src="js/jquery-1.12.2.min.js"></script>
    <script>
        $(function () {

            $('.weibo button').click(function () {

                var txt = $('.weibo textarea').val();

                if( txt == "" ){
                    alert("内容不能为空。");
                }else if( txt.length > 120 ){
                    alert("微博内容不能超过120。");
                }else{
                    $('ul').prepend('<li><p>'+txt+'</p><span>删除</span></li>');
    //                $('<li><p>'+txt+'</p><span>删除</span></li>').prependTo('ul');
                    $('.weibo textarea').val('');   // 清空文本域
                }

            });

//          事件往往是同级存在的
//            需要利用事件委托实现，因为后面动态添加的span要共享事件
            $('.weibo').on('click','span',function () {
                $(this).parent().remove();
            });


        });
    </script>
</head>
<body>
<div class="weibo">
    <textarea></textarea>
    <button>发布</button>
    <ul>
        <li><p>快来收了这九款用上就停不下来的应用吧！！</p><span>删除</span></li>
        <li><p>超级详细的云南大理自助游攻略</p><span>删除</span></li>
        <li><p>外国最近很火的舞蹈，舒服简单自然，太棒了！</p><span>删除</span></li>
    </ul>
</div>
</body>
</html>